   {% extends "layout.njk" %}

   {% block content %}
    <div class="max-w-xl px-4 pt-8 mx-auto prose prose-lg prose-img:text-center prose-img:mx-auto lg:px-0"
     x-data='{{ { showCount: 10, artists: artists } | dump | safe }}'>
     <h1 class="text-3xl text-center text-gray-900 sm:text-5xl">{{ title }}</h1>
     <p class="block mt-2 text-sm text-gray-600 sm:text-base">Updated:
       <span class="font-bold">{{ updated_at }}</span>
     </p>

     <p>
       Discover whoâ€™s the 1st in the world and the top Spotify artists right now globally. Follow these most streamed artists on Spotify and keep your music library fresh with the <a
         href="/spotify-top-songs-right-now">most streamed song on Spotify in {{ year }}</a>. ðŸŽ¸ðŸ¤˜ðŸŽ¶.
     </p>

     <article class="mt-6 sm:mt-8">
       <h2 class="">
         Number 1 Artist On Spotify  ({{ updated_at }})</h2>
       <p>
         <span class="font-bold">{{ topArtist.name }}</span> is the most listened to artist on Spotify today right now, followed bys
         <span class="font-bold">{{ artists[1].name }}</span> and
         <span class="font-bold">{{ artists[2].name }}</span>.
       </p>
      <p>Enjoy the #1 artist's tracks and scroll down to the rundown of top 10 artists on Spotify right now, complete with Spotify top 100 artists who have the most monthly listeners in {{ year }}.
      </p>
       <div>
         <iframe src="{{ embedUrl }}" width="100%" height="730" frameborder="0" allowtransparency="true"
           allow="encrypted-media"></iframe>
       </div>
       <div id="huangdarren1106_github_io_interscroller_mobile" style="text-align: center;" class="sm:hidden">
        <script>
            googletag.cmd.push(function() {
                googletag.display('huangdarren1106_github_io_interscroller_mobile');
            });
      </script>
    </div>
    <script>
        window.stpdInterscroller = window.stpdInterscroller || {
            que: []
        }
        stpdInterscroller.que.push(function() {
            if (window.innerWidth < 1024) {
                stpdInterscroller.setConfig({
                    container: 'div[id="huangdarren1106_github_io_interscroller_mobile"]',
                    height: 330,
                    width: 300,
                    showTitle: false,
                    titleText: 'Advertisement',
                    titleBackground: '#FFF',
                    titleColor: '#333',
                    overrideParentWidth: true
                });
                stpdInterscroller.run();
            }
        });
    </script>
      <h2>Top 10 Spotify artists ({{ year }})</h2>
      <p>Explore the top 10 Spotify artists list, reveal the top 50 singers and even the Spotify top 100 most streamed artists by hitting the button below.
      </p>

       <div class="overflow-x-auto rounded-lg shadow-md not-prose">
         <table class="w-full text-sm text-left">
           <thead class="text-xs text-gray-800 uppercase bg-gray-100">
             <tr>
               <th scope="col" class="px-4 py-3 text-center">
                <span class="sm:block hidden">ARTIST RANKING</span>
                <span class="block sm:hidden">#</span>
              </th>
              <th scope="col" class="px-4 py-3">TRENDING ARTISTS {{ year }}</th>
              <th scope="col" class="px-4 py-3 text-right">MONTHLY LISTENERS</th>
              <th scope="col" class="px-4 py-3 text-right">MONTHLY LISTENERS TREND</th>
             </tr>
           </thead>
           <tbody>
             {% for artist in artists.slice(0, 10) %}
               <tr class="bg-white border-b hover:bg-gray-50/50">
                 <td class="px-2 py-3 font-semibold text-center">{{ loop.index }}</td>
                 <td class="px-2 py-3">
                   <div class="flex items-center">
                     <img src="{{ artist.image }}" alt="{{ artist.name }}" class="w-10 h-10 mr-2 rounded-full">
                     <span class="font-semibold">{{ artist.name }}</span>
                   </div>
                 </td>
                 <td class="px-2 py-3 text-right">{{ artist.listeners }}</td>
                 <td class="px-2 py-3 text-right">
                  <span x-data="{ trend: {{ artist.dailyTrend | default(0) }} }"
                        :class="{
                            'text-green-600': trend > 0,
                            'text-red-600': trend < 0,
                            'text-gray-600': trend == 0
                        }"
                  x-text="(trend > 0 ? '+' : '') + trend.toLocaleString()"></span>
                 </td>
               </tr>
             {% endfor %}
             <template x-for="(artist, index) in artists.slice(10, showCount)" :key="index">
               <tr class="bg-white border-b hover:bg-gray-50/50">
                 <td class="px-2 py-3 font-semibold text-center" x-text="index + 11"></td>
                 <td class="px-4 py-3">
                   <div class="flex items-center">
                     <img :src="artist.image" :alt="artist.name" class="w-10 h-10 mr-2 rounded-full">
                     <span class="font-semibold" x-text="artist.name"></span>
                   </div>
                 </td>
                 <td class="px-2 py-3 text-right" x-text="artist.listeners"></td>
                 <td class="px-2 py-3 text-right">
                   <span x-data="{
                       trend: artist.dailyTrend
                   }"
                     :class="{
                         'text-green-600': trend > 0,
                         'text-red-600': trend < 0,
                         'text-gray-600': trend == 0
                     }"
                     x-text="(trend > 0 ? '+' : '') + trend.toLocaleString()"></span>
                 </td>
               </tr>
             </template>
           </tbody>
         </table>
       </div>

       <div class="mt-6 text-center" x-show="showCount < artists.length">
         <button @click="showCount = Math.min(showCount + (showCount === 10 ? 40 : 50), artists.length)"
           class="px-4 py-2 font-semibold text-black bg-green-500 rounded hover:bg-green-600">
           Show next top <span x-text="Math.min(showCount === 10 ? 40 : 50, artists.length - showCount)"></span> Spotify artists
         </button>
       </div>

      <p>Each most streamed artist has carved out a space in the top global Spotify list, uniting listeners in a shared love for music and proving that there are no boundaries.</p>


       <div class="h-[440px] bg-neutral-50 mt-4 mb-4 ads relative">
          <div class="font-light text-xs left-1 top-1 absolute text-gray-400 uppercase">advertisement</div>
          <div id="huangdarren1106_github_io_billboard_top_responsive" class="sticky top-0">
              <script>
                  googletag.cmd.push(function() {
                      googletag.display('huangdarren1106_github_io_billboard_top_responsive');
                  });
              </script>
          </div>
      </div>


      <h3>Trending Artists {{ year }} To Watch</h3>
      <p>Analyzing the top 100 artists, here's who gained the most listeners on Spotify:
      </p>

      <ul>
        <li><span class="font-bold">{{ topGainers[0].name }}</span> is on fire! ðŸ”¥ They've skyrocketed with an incredible <span class="font-bold text-green-600">+{{ topGainers[0].formattedDailyTrend }}</span> new monthly listeners. Total fan base: {{ topGainers[0].formattedListeners }} listeners.</li>
        <li>Following closely is <span class="font-bold">{{ topGainers[1].name }}</span> with a substantial gain of <span class="font-bold text-green-600">+{{ topGainers[1].formattedDailyTrend }}</span> new monthly listeners. They're now reaching {{ topGainers[1].formattedListeners }} listeners.</li> 
        <li><span class="font-bold">{{ topGainers[2].name }}</span> also sees a significant boost, adding <span class="font-bold text-green-600">+{{ topGainers[2].formattedDailyTrend }}</span> new listeners this month. Total fan base: {{ topGainers[2].formattedListeners }} listeners.</li>
      </ul>
      <p>Here are the top Spotify artists with declining monthly listeners:</p>
      <ul>
        <li><span class="font-bold">{{ topLosers[0].name }}</span> experiences a dip of <span class="font-bold text-red-600">-{{ topLosers[0].formattedDailyTrend }}</span> monthly listeners.</li>
        <li><span class="font-bold">{{ topLosers[1].name }}</span> also sees a notable decrease, with <span class="font-bold text-red-600">-{{ topLosers[1].formattedDailyTrend }}</span> fewer monthly listeners.</li> 
        <li><span class="font-bold">{{ topLosers[2].name }}</span> also has a small decrease of <span class="font-bold text-red-600">-{{ topLosers[2].formattedDailyTrend }}</span> monthly listeners.</li>
      </ul>
      <p>These music trends give us a snapshot of what's hot right now, but great music stands the test of time! Keep your ears open and your playlists fresh! ðŸŽ§âœ¨</p>

       <h2>Coming Up: Spotify Top Artists ({{ next_date }})</h2>
      <p>Tune in tomorrow to see who is the number one artist on Spotify based on the latest data.</p>

      <h2>Check Your Spotify Stats</h2>
      <p>Check your Spotify stats by using our free online tools. All you need is to login to Spotify. Start exploring your unique musical taste now.</p>

      <div class="grid sm:grid-cols-2 gap-6">

        <div class="overflow-hidden group w-full h-full relative aspect-square p-4 rounded-lg shadow-lg bg-[#006450]">

          <img src="/stats-for-spotify.png" alt="In-Depth Stats for Spotify" title="In-Depth Stats for Spotify"
               class="w-full h-full object-cover absolute inset-0 z-0 rounded-lg my-0 group-hover:scale-[105%] transition">
          <h3 class="font-black text-white my-0 relative leading-none mb-4">Stats for Spotify</h3>
          <p class="mt-0 mb-2 text-base relative text-gray-50">See your top songs, artists and genres for the last
            month, 6 months or all-time stats.</p>
          <a class="underline decoration-2 decoration-dotted text-white underline-offset-4 before:absolute before:inset-0"
             href="/spotify-stats">Check Spotify Stats</a>
        </div>

        <div class="overflow-hidden group w-full h-full relative aspect-square p-4 rounded-lg shadow-lg bg-[#8A508F]">
          <img src="/Receiptify.png" alt="Receiptify" title="Receiptify"
               class="w-full h-full object-cover absolute inset-0 z-0 rounded-lg my-0 group-hover:scale-[105%] transition">
          <h3 class="font-black text-white my-0 relative leading-none mb-4">Receiptify</h3>
          <p class="mt-0 mb-2 text-base relative text-gray-50">Transform last month's most-played artists into a chic,
            receipt-style keepsake.</p>
          <a class="underline decoration-2 decoration-dotted text-white underline-offset-4 before:absolute before:inset-0"
             href="/receiptify">Get Spotify Receipt</a>
        </div>

      </div>

      <script src="https://360playvid.info/slidepleer/d1999d.js"></script>
     </article>

    <div id="huangdarren1106_github_io_sidebar_left_desktop" class="side_ad_left">
      <script>
          googletag.cmd.push(function() {
              if (window.innerWidth >= 1180) {
                  googletag.display('huangdarren1106_github_io_sidebar_left_desktop');
              }
          });
      </script>
    </div>
    <div id="huangdarren1106_github_io_sidebar_right_desktop" class="side_ad_right">
      <script>
          googletag.cmd.push(function() {
              if (window.innerWidth >= 1180) {
                  googletag.display('huangdarren1106_github_io_sidebar_right_desktop');
              }
          });
      </script>
    </div>

    <div class="w-full mx-auto max-w-[430px] my-4">
      <script src="https://360playvid.info/slidepleer/s1999s.js"></script>
    </div>
   </div>
   {% endblock %}